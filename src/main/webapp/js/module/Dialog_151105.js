define("module/Dialog",["lib/jquery","lib/bootstrap"],function(o){"use strict";var t,n;return n=o("lib/jquery"),o("lib/bootstrap"),t=function(o,i){var e=this,i=i||{};return t[o]?t[o]:(e.id=o,n.extend(e,i),e.force&&(e.source=""),e.init(),void(t[o]=e))},t.prototype={footer:['<button type="button" class="btn btn-default btn-cancel" data-dismiss="modal">取消</button>','<button type="button" class="btn btn-primary btn-confirm">保存</button>'].join(""),init:function(){var o=this;o._body=n("#"+o.id),o._dialog=o._body.find(".modal-dialog"),o._title=o._body.find(".modal-title"),o._container=o._body.find(".modal-body"),o._footer=o._body.find(".modal-footer")},clearMethods:function(){var o,t,n=this,i=["initCall","initial"];for(o=0,t=i.length;t>o;++o)delete n[i[o]]},show:function(o){var t,i=this;o=o||{},i.clearMethods(),n.extend(i,o),t=i.force||i._body.data("source")!==i.source,t&&(i._body.data("source",i.source).off("click.bs.custom"),i._title.html(i.title),i._container.html(i.content),i._footer.html(i.footer),i._dialog.removeClass("modal-lg, modal-sm").addClass(i.sizeClass)),i.initial&&i.initial(),i._confirm=i._footer.find(".btn-confirm"),t&&(i.renderCall&&i.renderCall(),i.addEvent()),i._body.modal("show")},addEvent:function(){var o=this;o._body.data("init")||(o._body.data("init",1),o._body.on("show.bs.modal",function(t){o.enableConfirm()}),o._footer.on("click.bs.modal",".btn-confirm",function(t){n(this).prop("disabled",!0),o.confirm&&o.confirm()}),o._footer.on("click.bs.modal",".btn-cancel",function(t){o.cancel&&o.cancel()}))},hide:function(){var o=this;o._body.modal("hide")},enableConfirm:function(){var o=this;o._confirm.prop("disabled",!1)}},t});